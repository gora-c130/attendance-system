<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="kasulogo.jpg" />
    <title>Student Attendance System</title>
    <style>
        * { 
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .login-container {
            max-width: 400px;
            margin: 100px auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            text-align: center;
        }

        .login-container h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .login-container .subtitle {
            color: #7f8c8d;
            margin-bottom: 30px;
        }

        .input-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 600;
        }

        .input-group input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: #3498db;
        }

        .login-btn {
            width: 100%;
            padding: 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .login-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .error-message {
            background: #fdeaea;
            color: #e74c3c;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        .demo-credentials {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 0.85rem;
            text-align: left;
        }

        .demo-credentials h4 {
            margin-bottom: 10px;
            color: #2c3e50;
        }

        /* Attendance System Styles */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        /* Header */
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header .subtitle {
            color: #ecf0f1;
            font-size: 1rem;
            margin-top: 5px;
            opacity: 0.9;
        }

        .logout-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #e74c3c;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
        }

        .logout-btn:hover {
            background: #c0392b;
        }

        /* Add Student Section */
        .add-section {
            padding: 20px;
            background: #f8f9fa;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            border-bottom: 2px solid #ddd;
        }

        .input-group input,
        .input-group select {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }

        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: #3498db;
        }

        .btn {
            padding: 10px 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #27ae60;
        }

        .btn-success:hover {
            background: #219653;
        }

        .btn-danger {
            background: #e74c3c;
        }

        .btn-danger:hover {
            background: #c0392b;
        }

        .btn-warning {
            background: #f39c12;
        }

        .btn-warning:hover {
            background: #d35400;
        }

        /* Stats Section */
        .stats-section {
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            border-top: 4px solid #3498db;
        }

        .stat-card:nth-child(2) { border-color: #27ae60; }
        .stat-card:nth-child(3) { border-color: #e74c3c; }
        .stat-card:nth-child(4) { border-color: #f39c12; }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #2c3e50;
            margin: 10px 0;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Action Buttons */
        .action-buttons {
            padding: 15px 20px;
            background: white;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            border-bottom: 1px solid #eee;
        }

        .action-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            background: #3498db;
            color: white;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* Students Table */
        .table-section {
            padding: 20px;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }

        thead {
            background: #2c3e50;
            color: white;
        }

        th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.9rem;
        }

        tbody tr {
            border-bottom: 1px solid #eee;
            transition: background 0.3s;
        }

        tbody tr:hover {
            background: #f8f9fa;
        }

        td {
            padding: 15px;
        }

        .student-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .student-name {
            font-weight: 600;
            color: #2c3e50;
        }

        .student-meta {
            font-size: 0.85rem;
            color: #7f8c8d;
            display: flex;
            gap: 15px;
        }

        .status-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .status-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s;
        }

        .status-btn:hover {
            transform: scale(1.05);
        }

        .btn-present {
            background: #27ae60;
            color: white;
        }

        .btn-absent {
            background: #e74c3c;
            color: white;
        }

        .btn-late {
            background: #f39c12;
            color: white;
        }

        .btn-excused {
            background: #3498db;
            color: white;
        }

        .status-display {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            display: inline-block;
            margin-top: 8px;
        }

        .status-present { background: #d5f4e6; color: #27ae60; }
        .status-absent { background: #fdeaea; color: #e74c3c; }
        .status-late { background: #fef5e7; color: #e67e22; }
        .status-excused { background: #e8f6f8; color: #3498db; }
        .status-not-marked { background: #f2f3f4; color: #7f8c8d; }

        .student-actions {
            display: flex;
            gap: 8px;
        }

        .icon-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            background: #f8f9fa;
            color: #2c3e50;
        }

        .icon-btn:hover {
            transform: scale(1.1);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 25px;
            background: #27ae60;
            color: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s;
            z-index: 1000;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast.error {
            background: #e74c3c;
        }

        .toast.warning {
            background: #f39c12;
        }

        /* Footer */
        .footer {
            padding: 20px;
            background: #2c3e50;
            color: white;
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Loading Spinner */
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .add-section {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                justify-content: center;
            }
            
            .status-buttons {
                flex-direction: column;
            }
            
            th, td {
                padding: 10px;
            }
            
            .student-meta {
                flex-direction: column;
                gap: 5px;
            }
            
            .login-container {
                margin: 50px 20px;
                padding: 30px 20px;
            }
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="login-container">
        <div style="font-size: 3rem; margin-bottom: 20px;">üîê</div>
        <h1>Attendance System</h1>
        <div class="subtitle">Admin Login Required</div>
        
        <div class="error-message" id="loginError">
            Invalid credentials. Please try again.
        </div>
        
        <div class="input-group">
            <label>Email</label>
            <input type="email" id="email" placeholder="Enter email">
        </div>
        
        <div class="input-group">
            <label>Password</label>
            <input type="password" id="password" placeholder="Enter password">
        </div>
        
        <button class="login-btn" onclick="handleLogin()">Login</button>
        <div id="loginSpinner" class="spinner hidden"></div>
        
    </div>

    <!-- Attendance System -->
    <div id="attendanceSystem" class="container hidden">
        <!-- Header -->
        <div class="header">
            <h1>üìä Student Attendance System</h1>
            <h2>Department Of Informatics</h2>
            <div id="userEmail" class="subtitle"></div>
            <button class="logout-btn" onclick="handleLogout()">Logout</button>
        </div>

        <!-- Statistics -->
        <div class="stats-section">
            <div class="stat-card">
                <div class="stat-label">Total Students</div>
                <div class="stat-value" id="totalStudents">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Present Today</div>
                <div class="stat-value" id="presentCount">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Absent Today</div>
                <div class="stat-value" id="absentCount">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Attendance %</div>
                <div class="stat-value" id="attendancePercent">0%</div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button class="action-btn" onclick="markAll('Present')">
                <span>‚úÖ Mark All Present</span>
            </button>
            <button class="action-btn btn-danger" onclick="markAll('Absent')">
                <span>‚ùå Mark All Absent</span>
            </button>
            <button class="action-btn btn-warning" onclick="markAll('Late')">
                <span>‚è∞ Mark All Late</span>
            </button>
            <button class="action-btn" onclick="saveAttendance()">
                <span>üíæ Save Attendance</span>
            </button>
            <button class="action-btn" onclick="exportToCSV()">
                <span>üì§ Export CSV</span>
            </button>
        </div>

        <!-- Students Table -->
        <div class="table-section">
            <table>
                <thead>
                    <tr>
                        <th width="30%">Student Information</th>
                        <th width="45%">Attendance Status</th>
                        <th width="25%">Actions</th>
                    </tr>
                </thead>
                <tbody id="studentList"></tbody>
            </table>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Student Attendance System </p>
            <div class="last-saved" id="lastSaved">Last saved: Never</div>
            <p>Developed by Abu Jabeer Tech</p>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <span id="toastMessage">Operation successful!</span>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <script>
        // Initialize Firebase first
        const firebaseConfig = {
            apiKey: "AIzaSyCRIWIz7ZZ-f67O0xvwlFpTzZLXMAor_xg",
            authDomain: "attendances-7b066.firebaseapp.com",
            projectId: "attendances-7b066",
            storageBucket: "attendances-7b066.appspot.com",
            messagingSenderId: "644109738414",
            appId: "1:644109738414:web:d6b899f9d55910f94ee83f"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        async function loadStudentsFromDB() {
    students = [];

    const snapshot = await db.collection("students").orderBy("name").get();

    snapshot.forEach(doc => {
        students.push({
            docId: doc.id,
            ...doc.data()
        });
    });

    displayStudents();
    updateStatistics();
}


        // Global variables for attendance
        let currentDate = new Date().toISOString().split('T')[0];

        // Check authentication state on page load
        document.addEventListener('DOMContentLoaded', function() {
           auth.onAuthStateChanged((user) => {
    if (user) {
        showAttendanceSystem();
        document.getElementById('userEmail').textContent =
            `Logged in as: ${user.email}`;
        loadStudentsFromDB(); // üî• AUTO LOAD STUDENTS
    } else {
        showLoginPage();
    }
});

            });
       

        // Login function
        function handleLogin() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const errorDiv = document.getElementById('loginError');
            const spinner = document.getElementById('loginSpinner');
            
            if (!email || !password) {
                showError('Please enter both email and password');
                return;
            }
            
            spinner.classList.remove('hidden');
            errorDiv.style.display = 'none';
            
            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    showToast('Login successful!');
                })
                .catch((error) => {
                    let errorMessage = 'Login failed. ';
                    
                    switch(error.code) {
                        case 'auth/user-not-found':
                            errorMessage += 'User not found.';
                            break;
                        case 'auth/wrong-password':
                            errorMessage += 'Incorrect password.';
                            break;
                        case 'auth/invalid-email':
                            errorMessage += 'Invalid email address.';
                            break;
                        default:
                            errorMessage += error.message;
                    }
                    
                    showError(errorMessage);
                })
                .finally(() => {
                    spinner.classList.add('hidden');
                });
        }

        // Logout function
        function handleLogout() {
            auth.signOut()
                .then(() => {
                    showToast('Logged out successfully');
                })
                .catch((error) => {
                    showToast('Logout error: ' + error.message, 'error');
                });
        }

        // Show error message
        function showError(message) {
            const errorDiv = document.getElementById('loginError');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
        }

        // Show/hide pages
        function showLoginPage() {
            document.getElementById('loginPage').style.display = 'block';
            document.getElementById('attendanceSystem').classList.add('hidden');
        }

        function showAttendanceSystem() {
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('attendanceSystem').classList.remove('hidden');
        }

        // Show toast notification
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            toastMessage.textContent = message;
            toast.className = 'toast';
            if (type === 'error') {
                toast.classList.add('error');
            } else if (type === 'warning') {
                toast.classList.add('warning');
            }
            
            setTimeout(() => toast.classList.add('show'), 100);
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // ================= ATTENDANCE SYSTEM FUNCTIONS =================

        // Display students in table
        function displayStudents() {
            const list = document.getElementById("studentList");
            
            if (students.length === 0) {
                list.innerHTML = `
                    <tr>
                        <td colspan="3" style="text-align: center; padding: 40px;">
                            <div style="font-size: 3rem; color: #ddd; margin-bottom: 10px;">üë®‚Äçüéì</div>
                            <h3 style="color: #666;">No students added yet</h3>
                            <p style="color: #999;">Add your first student using the form above</p>
                        </td>
                    </tr>
                `;
                return;
            }

            list.innerHTML = students.map((student, index) => {
                const statusClass = `status-${student.status ? student.status.toLowerCase().replace(' ', '-') : 'not-marked'}`;
                const statusText = student.status || 'Not Marked';
                
                return `
                    <tr>
                        <td>
                            <div class="student-info">
                                <div class="student-name">${student.name}</div>
                                <div class="student-meta">
                                   <span>ID: ${student.studentId || 'N/A'}</span>

                                    <span>Class: ${student.class || 'N/A'}</span>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="status-buttons">
                                <button onclick="markStatus(${index}, 'Present')" 
                                        class="status-btn btn-present">
                                    ‚úÖ Present
                                </button>
                                <button onclick="markStatus(${index}, 'Absent')" 
                                        class="status-btn btn-absent">
                                    ‚ùå Absent
                                </button>
                                <button onclick="markStatus(${index}, 'Late')" 
                                        class="status-btn btn-late">
                                    ‚è∞ Late
                                </button>
                                <button onclick="markStatus(${index}, 'Excused')" 
                                        class="status-btn btn-excused">
                                    üìù Excused
                                </button>
                            </div>
                            <div class="status-display ${statusClass}">
                                Current: ${statusText}
                                ${student.timestamp ? ` (${student.timestamp})` : ''}
                            </div>
                        </td>
                        <td>
                            <div class="student-actions">
                                <button onclick="editStudent(${index})" class="icon-btn" title="Edit Student">
                                    ‚úèÔ∏è
                                </button>
                                <button onclick="deleteStudent(${index})" class="icon-btn" title="Delete Student">
                                    üóëÔ∏è
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // Add new student
        function addStudent() {
            const name = document.getElementById('studentName').value.trim();
            const id = document.getElementById('studentId').value.trim();
            const className = document.getElementById('studentClass').value;
            
            if (!name || !className) {
                showToast('Please enter student name and select class', 'error');
                return;
            }
            
            const newStudent = {
                id: id || `STU${Date.now().toString().slice(-6)}`,
                name: name,
                class: className,
                status: 'Not Marked',
                timestamp: '',
                addedDate: new Date().toISOString()
            };
            
            students.push(newStudent);
            displayStudents();
            updateStatistics();
            saveToLocalStorage();
            
            // Clear form
            document.getElementById('studentName').value = '';
            document.getElementById('studentId').value = '';
            document.getElementById('studentClass').value = '';
            
            showToast(`Student "${name}" added successfully!`);
        }

        // Mark student status
       async function markStatus(index, status) {
    const student = students[index];
    const time = new Date().toLocaleTimeString([], {
        hour: '2-digit',
        minute: '2-digit'
    });

    await db.collection("students")
        .doc(student.docId)
        .update({
            status: status,
            timestamp: time
        });

    showToast(`${student.name} marked ${status}`);
    loadStudentsFromDB();
}


        // Mark all students
       async function markAll(status) {
    if (students.length === 0) {
        showToast("No students found", "warning");
        return;
    }

    if (!confirm(`Mark ALL students as ${status}?`)) return;

    const time = new Date().toLocaleTimeString([], {
        hour: '2-digit',
        minute: '2-digit'
    });

    const batch = db.batch();

    students.forEach(student => {
        const ref = db.collection("students").doc(student.docId);
        batch.update(ref, {
            status: status,
            timestamp: time
        });
    });

    await batch.commit();

    showToast(`All students marked ${status}`);
    loadStudentsFromDB();
}


        // Edit student
      async function editStudent(index) {
    const student = students[index];
    const newName = prompt("Edit student name:", student.name);

    if (!newName || newName.trim() === "") return;

    await db.collection("students")
        .doc(student.docId)
        .update({ name: newName.trim() });

    showToast("Student updated");
    loadStudentsFromDB();
}


        // Delete student
       async function deleteStudent(index) {
    const student = students[index];

    if (!confirm(`Delete ${student.name}?`)) return;

    await db.collection("students")
        .doc(student.docId)
        .delete();

    showToast("Student deleted", "warning");
    loadStudentsFromDB();
}


        // Update statistics
        function updateStatistics() {
            const total = students.length;
            const present = students.filter(s => s.status === "Present").length;
            const absent = students.filter(s => s.status === "Absent").length;
            const percentage = total > 0 ? ((present / total) * 100).toFixed(1) : 0;
            
            document.getElementById('totalStudents').textContent = total;
            document.getElementById('presentCount').textContent = present;
            document.getElementById('absentCount').textContent = absent;
            document.getElementById('attendancePercent').textContent = `${percentage}%`;
        }

        // Save attendance
        function saveAttendance() {
            saveToLocalStorage();
            showToast('Attendance saved successfully!');
        }

        // Export to CSV
        function exportToCSV() {
            if (students.length === 0) {
                showToast('No data to export!', 'warning');
                return;
            }
            
            const dateStr = currentDate.replace(/-/g, '');
            let csv = "Student Name,ID,Class,Status,Timestamp,Date\n";
            
            students.forEach(student => {
                csv += `"${student.name}",${student.id || 'N/A'},${student.class || 'N/A'},${student.status || 'Not Marked'},"${student.timestamp || ''}","${currentDate}"\n`;
            });
            
            // Create download link
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `attendance_${dateStr}.csv`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            showToast('CSV file downloaded!');
        }

        // Save to localStorage
        function saveToLocalStorage() {
            localStorage.setItem("students", JSON.stringify(students));
            localStorage.setItem("lastSaved", new Date().toISOString());
            updateLastSaved();
        }

        // Update last saved time
        function updateLastSaved() {
            const lastSaved = localStorage.getItem("lastSaved");
            if (lastSaved) {
                const time = new Date(lastSaved).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                document.getElementById('lastSaved').textContent = `Last saved: ${time}`;
            }
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Ctrl+S to save
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                saveAttendance();
            }
            
            // Enter to login when in password field
            if (e.key === 'Enter' && document.activeElement.id === 'password') {
                handleLogin();
            }
            
            // Enter to add student when in name field
            if (e.key === 'Enter' && document.activeElement.id === 'studentName') {
                addStudent();
            }
        });

        // Auto-save every 2 minutes
        setInterval(function() {
            if (students.length > 0) {
                saveToLocalStorage();
                console.log('Auto-saved at:', new Date().toLocaleTimeString());
            }
        }, 120000);
    </script>
</body>

</html>
